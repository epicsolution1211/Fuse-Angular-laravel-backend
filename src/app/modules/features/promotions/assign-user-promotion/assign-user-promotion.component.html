<div class="flex flex-col max-w-500 md:min-w-160 -m-6">
    <div>
        <!-- Header -->
        <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary">
            <button *ngIf="assignUserObj.nextButton" mat-icon-button (click)="nextPrevious('previous')" [tabIndex]="-1">
                <mat-icon class="text-current">
                    keyboard_backspace
                </mat-icon>
            </button>
            <div *ngIf="!assignUserObj.nextButton" class="text-lg font-medium">
                Assign Promotions
            </div>
            <div *ngIf="assignUserObj.nextButton" class="text-lg font-medium">
                Select
            </div>
            <button mat-icon-button (click)="saveAndClose()" [tabIndex]="-1">
                <mat-icon class="text-current" [svgIcon]="'heroicons_outline:x'"></mat-icon>
            </button>
        </div>
        <!-- Compose form -->
        <div>
            <form class="d-flex p-6 add-permanent" [formGroup]="form">
                <!-- To -->
                <ng-container *ngIf="!assignUserObj.nextButton">
                    <mat-form-field class="w-1/2 pl-3">
                        <mat-label>
                            Promotions
                        </mat-label>
                        <mat-select [formControlName]="'promotions'" multiple>
                            <ng-container *ngFor="let promotion of promotionArr">
                                <mat-option [value]="promotion.id">
                                    {{promotion.promotion_name}}
                                </mat-option>
                            </ng-container>
                        </mat-select>
                        <div class="copy-fields-toggles" matSuffix></div>
                        <mat-error *ngIf="submitted && f.promotions.errors">
                            Promotion selection is required
                        </mat-error>
                    </mat-form-field>
                </ng-container>

                <ng-container *ngIf="assignUserObj.nextButton">


                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <a class="flex flex-col w-40 h-40 m-2 p-4 shadow rounded-2xl cursor-pointer bg-card"
                                [ngClass]="{'cardSelect': assignUserObj.mailCard}" (click)="selectCard('mail')">
                                <div class="aspect-w-9 aspect-h-6">
                                    <div class="flex items-center justify-center">
                                        <!-- Icons -->
                                        <ng-container>
                                            <!-- Folder -->
                                            <ng-container>
                                                <mat-icon class="icon-size-14 text-hint">
                                                    contact_mail
                                                </mat-icon>
                                            </ng-container>
                                            <!-- File -->
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="flex flex-col flex-auto justify-center text-center text-sm font-medium">
                                    <div class="truncate" [matTooltip]="Mail">Mail</div>
                                    <ng-container>
                                        <div class="text-secondary truncate">Notify From mail s</div>
                                    </ng-container>
                                </div>
                            </a>
                        </div>
                        <div>
                            <a class="flex flex-col w-40 h-40 m-2 p-4 shadow rounded-2xl cursor-pointer bg-card"
                                [ngClass]="{'cardSelect': assignUserObj.notificationCard}"
                                (click)="selectCard('notification')">
                                <div class="aspect-w-9 aspect-h-6">
                                    <div class="flex items-center justify-center">
                                        <!-- Icons -->
                                        <ng-container>
                                            <!-- Folder -->
                                            <ng-container>
                                                <mat-icon class="icon-size-14 text-hint">
                                                    circle_notifications
                                                </mat-icon>
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="flex flex-col flex-auto justify-center text-center text-sm font-medium">
                                    <div class="truncate" [matTooltip]="Mail">Notification</div>
                                    <ng-container>
                                        <div class="text-secondary truncate">Notify From Notification</div>
                                    </ng-container>
                                </div>
                            </a>
                        </div>
                        <!-- <div>
                            <a class="flex flex-col w-40 h-40 m-2 p-4 shadow rounded-2xl cursor-pointer bg-card"
                                [ngClass]="{'cardSelect': assignUserObj.textCard}" (click)="selectCard('text')">
                                <div class="aspect-w-9 aspect-h-6">
                                    <div class="flex items-center justify-center">
                                        <ng-container>
                                            <ng-container>
                                                <mat-icon class="icon-size-14 text-hint">
                                                    textsms
                                                </mat-icon>
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="flex flex-col flex-auto justify-center text-center text-sm font-medium">
                                    <div class="truncate" [matTooltip]="Mail">Text</div>
                                    <ng-container>
                                        <div class="text-secondary truncate">Notify From Textmsg</div>
                                    </ng-container>
                                </div>
                            </a>
                        </div> -->
                    </div>
                    <!-- Item template -->


                </ng-container>
                <!-- <hr class="abc" /> -->
                <!-- Actions -->
                <div class="justify-between">
                    <div class="text-right" *ngIf="assignUserObj.nextButton">
                        <button class="order-first sm:order-last" mat-flat-button [color]="'primary'" (click)="save()">
                            Assign
                        </button>
                    </div>
                    <div class="text-right" *ngIf="!assignUserObj.nextButton">
                        <button class="order-first sm:order-last" mat-flat-button [color]="'primary'"
                            (click)="nextPrevious('next')">
                            Next
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- [disabled]="assignUserObj.isDisabled" -->
    <ng-template #loading>
        <div style="margin: 50% auto">
            <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
            <!-- <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar> -->
        </div>
    </ng-template>
</div>