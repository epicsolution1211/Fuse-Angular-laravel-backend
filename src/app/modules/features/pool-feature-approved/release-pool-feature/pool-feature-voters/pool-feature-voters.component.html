<div class="flex flex-col -m-6">
    <!-- Header -->
    <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary">
        <div class="text-lg font-medium">
            {{data.data.title}} Voters
        </div>
        <button mat-icon-button (click)="saveAndClose()" [tabIndex]="-1">
            <mat-icon class="text-current" [svgIcon]="'heroicons_outline:x'"></mat-icon>
        </button>
    </div>
    <div *ngIf="!isLoading;else loading">
        <div class="py-2 px-2 overflow-auto mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort style="width: 100%; table-layout: fixed;">
                <ng-container matColumnDef="username">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Username
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.username}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="votesCount">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Votes
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.votesCount}}
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns" [style.min-height]="0">
                </tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="paginate" aria-label="Select page of users">
            </mat-paginator>
        </div>
    </div>
</div>

<ng-template #loading>
    <div style="display: flex; justify-content: center; align-items: center; margin: 50% 0;">
        <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
    </div>
</ng-template>